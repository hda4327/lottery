{"version":3,"sources":["webpack:///C:/Users/Administrator/Desktop/uiapp/salary-game/components/drawToCanvas/DrawToCanvas.vue?7a10","webpack:///C:/Users/Administrator/Desktop/uiapp/salary-game/components/drawToCanvas/DrawToCanvas.vue?ffd0","webpack:///C:/Users/Administrator/Desktop/uiapp/salary-game/components/drawToCanvas/DrawToCanvas.vue?8178","webpack:///C:/Users/Administrator/Desktop/uiapp/salary-game/components/drawToCanvas/DrawToCanvas.vue?c4a8","webpack:///C:/Users/Administrator/Desktop/uiapp/salary-game/components/drawToCanvas/DrawToCanvas.vue","webpack:///C:/Users/Administrator/Desktop/uiapp/salary-game/components/drawToCanvas/DrawToCanvas.vue?a652","webpack:///C:/Users/Administrator/Desktop/uiapp/salary-game/components/drawToCanvas/DrawToCanvas.vue?de3f"],"names":["name","data","poster","isCreate","isShow","bgWidth","bgHeight","components","onReady","createPoster","computed","ratepx","uni","getSystemInfoSync","windowWidth","methods","rate","rpx","writing","bigImage","contentBg","avatar","code","t1","t2","t3","content","appName","draw","then","res","setTimeout","err","console","log","catchtap","callback","drawText","options","allRow","Math","ceil","ctx","measureText","str","width","maxWidth","count","maxLine","endPos","setFillStyle","style","setFontSize","fontSize","j","nowStr","slice","rowWid","y","height","m","length","fillText","x","canvas","cavW","cavH","Promise","resolve","reject","createCanvasContext","clearRect","fillRect","drawImage","diameter","arc","radii","save","font","canvasToTempFilePath","canvasId","fileType","success","tempFilePath","fail","boldText","obj","text","btnCreate","wx","saveImageToPhotosAlbum","filePath","showToast","title","icon","roundRect","w","h","r","c","beginPath","fillStyle","PI","moveTo","lineTo","fill","closePath"],"mappings":";;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAuG;AACvC;AACL;AACqC;;;AAGhG;AAC6H;AAC7H,gBAAgB,wIAAU;AAC1B,EAAE,kFAAM;AACR,EAAE,mGAAM;AACR,EAAE,4GAAe;AACjB;AACA;AACA;AACA;;AAEA;;AAEA;AACA,IAAI,KAAU,EAAE,YAiBf;AACD;AACe,gF;;;;;;;;;;;;ACvCf;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACNA;AAAA;AAAA;AAAA;AAA8sB,CAAgB,6sBAAG,EAAC,C;;;;;;;;;;;;mICAluB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEe;AACdA,MAAI,EAAE,cADQ;AAEdC,MAFc,kBAEP;AACN,WAAO;AACNC,YAAM,EAAE,EADF;AAENC,cAAQ,EAAE,KAFJ;AAGNC,YAAM,EAAE,KAHF;AAINC,aAAO,EAAE,GAJH;AAKNC,cAAQ,EAAE,IALJ,EAAP;;AAOA,GAVa;AAWdC,YAAU,EAAE,EAXE;;;AAcdC,SAdc,qBAcJ;AACT,SAAKC,YAAL;AACA,GAhBa;AAiBdC,UAAQ,EAAE;AACTC,UADS,oBACA;AACR,aAAO,QAAQC,GAAG,CAACC,iBAAJ,GAAwBC,WAAvC;AACA,KAHQ,EAjBI;;AAsBdC,SAAO,EAAE;AACR;AACAC,QAAI,EAAE,cAASC,GAAT,EAAc;AACnB,aAAOA,GAAG,GAAG,KAAKN,MAAlB;AACA,KAJO;;AAMR;AACAF,gBAAY,EAAE,wBAAW;AACxB;AACA;AACA;AACA,UAAMS,OAAO,GAAG;AACf;AACAC,gBAAQ,EAAE,6BAFK;AAGfC,iBAAS,EAAE,+BAHI;AAIfC,cAAM,EAAE,6BAJO;AAKfC,YAAI,EAAE,6BALS;AAMfC,UAAE,EAAE,UANW;AAOfC,UAAE,EAAE,eAPW;AAQfC,UAAE,EAAE,aARW;AASfC,eAAO,EAAE,gEATM;;AAWfC,eAAO,EAAE,MAXM,EAAhB;;AAaA;AACA,WAAKC,IAAL,CAAU,QAAV,EAAoB,KAAKvB,OAAzB,EAAkC,KAAKC,QAAvC,EAAiDY,OAAjD,EAA0DW,IAA1D,CAA+D,UAAAC,GAAG,EAAI;AACrEC,kBAAU,CAAC,YAAM;AAChB;AACA,eAAI,CAAC5B,QAAL,GAAgB,IAAhB;AACA,eAAI,CAACC,MAAL,GAAc,IAAd;AACA,SAJS,EAIP,GAJO,CAAV;AAKA,OAND,EAMG,UAAA4B,GAAG,EAAI;AACTD,kBAAU,CAAC,YAAM;AAChB;AACA;AACAE,iBAAO,CAACC,GAAR,CAAY,QAAZ;AACA,SAJS,EAIP,GAJO,CAAV;AAKA,OAZD;AAaA;AACA,KAvCO;;AAyCR;AACAC,YAAQ,EAAE,kBAASC,QAAT,EAAmB;AAC5B,WAAKhC,MAAL,GAAc,KAAd;AACA2B,gBAAU,CAAC,YAAM;AAChB,cAAI,CAAC5B,QAAL,GAAgB,KAAhB;AACA,YAAIiC,QAAQ,IAAI,OAAOA,QAAP,IAAmB,UAAnC,EAA+C;AAC9CA,kBAAQ;AACR;AACD,OALS,EAKP,GALO,CAAV;AAMA,KAlDO;;AAoDR;AACAC,YAAQ,EAAE,kBAASC,OAAT,EAAkB;AAC3B;AACA,UAAIC,MAAM,GAAGC,IAAI,CAACC,IAAL,CAAUH,OAAO,CAACI,GAAR,CAAYC,WAAZ,CAAwBL,OAAO,CAACM,GAAhC,EAAqCC,KAArC,GAA6CP,OAAO,CAACQ,QAA/D,CAAb;AACA;AACA,UAAIC,KAAK,GAAGR,MAAM,IAAID,OAAO,CAACU,OAAlB,GAA4BV,OAAO,CAACU,OAApC,GAA8CT,MAA1D;AACC;AACAU,YAAM,GAAG,CAFV;AAGA;AACAX,aAAO,CAACI,GAAR,CAAYQ,YAAZ,CAAyBZ,OAAO,CAACa,KAAR,GAAgBb,OAAO,CAACa,KAAxB,GAAgC,MAAzD;AACA;AACAb,aAAO,CAACI,GAAR,CAAYU,WAAZ,CAAwBd,OAAO,CAACe,QAAR,GAAmBf,OAAO,CAACe,QAA3B,GAAsC,KAAKrC,IAAL,CAAU,EAAV,CAA9D;AACA;AACA,WAAK,IAAIsC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGP,KAApB,EAA2BO,CAAC,EAA5B,EAAgC;AAC/B;AACA,YAAIC,MAAM,GAAGjB,OAAO,CAACM,GAAR,CAAYY,KAAZ,CAAkBP,MAAlB,CAAb;AACC;AACAQ,cAAM,GAAG,CAFV;AAGC;AACAC,SAAC,GAAGpB,OAAO,CAACoB,CAAR,IAAaX,KAAK,IAAI,CAAT,GAAa,CAAb,GAAiBO,CAAC,GAAGhB,OAAO,CAACqB,MAA1C,CAJL;AAKA;AACA,YAAIrB,OAAO,CAACI,GAAR,CAAYC,WAAZ,CAAwBY,MAAxB,EAAgCV,KAAhC,GAAwCP,OAAO,CAACQ,QAApD,EAA8D;AAC7D,eAAK,IAAIc,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGL,MAAM,CAACM,MAA3B,EAAmCD,CAAC,EAApC,EAAwC;AACvC;AACAH,kBAAM,IAAInB,OAAO,CAACI,GAAR,CAAYC,WAAZ,CAAwBY,MAAM,CAACK,CAAD,CAA9B,EAAmCf,KAA7C;AACA,gBAAIY,MAAM,GAAGnB,OAAO,CAACQ,QAArB,EAA+B;AAC9B;AACA,kBAAIQ,CAAC,KAAKhB,OAAO,CAACU,OAAR,GAAkB,CAA5B,EAA+B;AAC9BV,uBAAO,CAACI,GAAR,CAAYoB,QAAZ,CAAqBP,MAAM,CAACC,KAAP,CAAa,CAAb,EAAgBI,CAAC,GAAG,CAApB,IAAyB,KAA9C,EAAqDtB,OAAO,CAACyB,CAA7D,EAAgEL,CAAhE;AACA,eAFD,MAEO;AACNpB,uBAAO,CAACI,GAAR,CAAYoB,QAAZ,CAAqBP,MAAM,CAACC,KAAP,CAAa,CAAb,EAAgBI,CAAhB,CAArB,EAAyCtB,OAAO,CAACyB,CAAjD,EAAoDL,CAApD;AACA;AACD;AACAT,oBAAM,IAAIW,CAAV;AACA;AACA;AACD;AACD,SAhBD,MAgBO,CAAE;AACRtB,iBAAO,CAACI,GAAR,CAAYoB,QAAZ,CAAqBP,MAAM,CAACC,KAAP,CAAa,CAAb,CAArB,EAAsClB,OAAO,CAACyB,CAA9C,EAAiDL,CAAjD;AACA;AACD;AACD,KA7FO;;AA+FR;AACA9B,QAAI,EAAE,cAASoC,MAAT,EAAiBC,IAAjB,EAAuBC,IAAvB,EAA6BhD,OAA7B,EAAsC;;AAE3C,aAAO,IAAIiD,OAAJ,CAAY,UAACC,OAAD,EAAUC,MAAV,EAAqB;;AAEvC,YAAI,CAACnD,OAAD,IAAY,CAAC8C,MAAjB,EAAyB;AACxBK,gBAAM;AACN;AACA;;AAED;AACA,YAAI3B,GAAG,GAAG9B,GAAG,CAAC0D,mBAAJ,CAAwBN,MAAxB,EAAgC,MAAhC,CAAV;AACAtB,WAAG,CAAC6B,SAAJ,CAAc,CAAd,EAAiB,CAAjB,EAAoB,MAAI,CAACvD,IAAL,CAAUiD,IAAV,CAApB,EAAqC,MAAI,CAACjD,IAAL,CAAUkD,IAAV,CAArC;;AAEA;AACAxB,WAAG,CAACQ,YAAJ,CAAiB,OAAjB;AACAR,WAAG,CAAC8B,QAAJ,CAAa,CAAb,EAAgB,CAAhB,EAAmB,MAAI,CAACxD,IAAL,CAAUiD,IAAV,CAAnB,EAAoC,MAAI,CAACjD,IAAL,CAAUkD,IAAV,CAApC;AACA;AACAxB,WAAG,CAAC+B,SAAJ,CAAcvD,OAAO,CAACC,QAAtB,EAAgC,CAAhC,EAAmC,CAAnC,EAAsC,MAAI,CAACH,IAAL,CAAUiD,IAAV,CAAtC,EAAuD,MAAI,CAACjD,IAAL,CAAU,IAAV,CAAvD;;AAEA;AACA0B,WAAG,CAAC+B,SAAJ,CAAcvD,OAAO,CAACE,SAAtB,EAAiC,MAAI,CAACJ,IAAL,CAAU,EAAV,CAAjC,EAAgD,MAAI,CAACA,IAAL,CAAU,GAAV,CAAhD,EAAgE,MAAI,CAACA,IAAL,CAAU,GAAV,CAAhE,EAAgF,MAAI,CAACA,IAAL,CAAU,GAAV,CAAhF;;;;AAIA;AACA,YAAM0D,QAAQ,GAAG,MAAI,CAAC1D,IAAL,CAAU,EAAV,CAAjB;AACA;AACA,YAAM2D,GAAG,GAAG;AACXC,eAAK,EAAEF,QAAQ,GAAG,CADP;AAEXX,WAAC,EAAE,MAAI,CAAC/C,IAAL,CAAU,EAAV,CAFQ;AAGX0C,WAAC,EAAE,MAAI,CAAC1C,IAAL,CAAU,GAAV,CAHQ,EAAZ;;;AAMA;AACA,cAAI,CAACqB,QAAL,CAAc;AACbK,aAAG,EAAEA,GADQ;AAEbE,aAAG,EAAE1B,OAAO,CAACQ,OAFA;AAGbsB,iBAAO,EAAE,CAHI;AAIbF,kBAAQ,EAAE,MAAI,CAAC9B,IAAL,CAAU,GAAV,CAJG;AAKb+C,WAAC,EAAE,MAAI,CAAC/C,IAAL,CAAU,EAAV,CALU;AAMb0C,WAAC,EAAE,MAAI,CAAC1C,IAAL,CAAU,GAAV,CANU;AAOb2C,gBAAM,EAAE,MAAI,CAAC3C,IAAL,CAAU,EAAV,CAPK;AAQbqC,kBAAQ,EAAE,MAAI,CAACrC,IAAL,CAAU,EAAV,CARG,EAAd;;;AAWA0B,WAAG,CAACmC,IAAJ;;AAEAnC,WAAG,CAACQ,YAAJ,CAAiB,MAAjB;AACAR,WAAG,CAACU,WAAJ,CAAgB,MAAI,CAACpC,IAAL,CAAU,EAAV,CAAhB;AACA0B,WAAG,CAACoB,QAAJ,CAAa5C,OAAO,CAACO,EAArB,EAAyB,MAAI,CAACT,IAAL,CAAU,GAAV,CAAzB,EAAyC,MAAI,CAACA,IAAL,CAAU,GAAV,CAAzC;;AAEA0B,WAAG,CAACmC,IAAJ;;;AAGAnC,WAAG,CAACQ,YAAJ,CAAiB,SAAjB;AACAR,WAAG,CAACU,WAAJ,CAAgB,MAAI,CAACpC,IAAL,CAAU,EAAV,CAAhB;AACA0B,WAAG,CAACoC,IAAJ,GAAW,KAAX;AACApC,WAAG,CAACoB,QAAJ,CAAa5C,OAAO,CAACK,EAArB,EAAyB,MAAI,CAACP,IAAL,CAAU,GAAV,CAAzB,EAAyC,MAAI,CAACA,IAAL,CAAU,GAAV,CAAzC;AACA;AACA0B,WAAG,CAACmC,IAAJ;;AAEA;AACA;AACA;AACA;AACA;AACA;;;;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACAnC,WAAG,CAAC+B,SAAJ,CAAcvD,OAAO,CAACC,QAAtB,EAAgC,MAAI,CAACH,IAAL,CAAU,GAAV,CAAhC,EAAgD,MAAI,CAACA,IAAL,CAAU,GAAV,CAAhD,EAAgE,MAAI,CAACA,IAAL,CAAU,GAAV,CAAhE,EAAgF,MAAI,CAACA,IAAL,CAAU,GAAV,CAAhF;;AAEA;AACA0B,WAAG,CAACoB,QAAJ,CAAa5C,OAAO,CAACS,OAArB,EAA8B,MAAI,CAACX,IAAL,CAAU,GAAV,CAA9B,EAA8C,MAAI,CAACA,IAAL,CAAU,GAAV,CAA9C;;AAEA;AACA0B,WAAG,CAACd,IAAJ,CAAS,KAAT,EAAgB,UAACE,GAAD,EAAS;AACxBlB,aAAG,CAACmE,oBAAJ,CAAyB;AACxBC,oBAAQ,EAAE,QADc;AAExBC,oBAAQ,EAAE,KAFc;AAGxBC,mBAAO,EAAE,iBAAApD,GAAG,EAAI;AACf;AACA;AACA;AACA,oBAAI,CAAC5B,MAAL,GAAc4B,GAAG,CAACqD,YAAlB;AACAf,qBAAO;AACP,aATuB;AAUxBgB,gBAAI,EAAE,cAAApD,GAAG,EAAI;AACZC,qBAAO,CAACC,GAAR,CAAYF,GAAZ;AACAqC,oBAAM;AACN,aAbuB,EAAzB;AAcG,gBAdH;AAeA,SAhBD;;AAkBA,OAxGM,CAAP;AAyGA,KA3MO;AA4MRgB,YA5MQ,oBA4MC3C,GA5MD,EA4MM4C,GA5MN,EA4MW;AAClB5C,SAAG,CAACoB,QAAJ,CAAawB,GAAG,CAACC,IAAjB,EAAuBD,GAAG,CAACvB,CAA3B,EAA8BuB,GAAG,CAAC5B,CAAJ,GAAQ,GAAtC;AACAhB,SAAG,CAACoB,QAAJ,CAAawB,GAAG,CAACC,IAAjB,EAAuBD,GAAG,CAACvB,CAAJ,GAAQ,GAA/B,EAAoCuB,GAAG,CAAC5B,CAAxC;AACA,KA/MO;AAgNR;AACA8B,aAAS,EAAE,mBAASF,GAAT,EAAc;AACxB;AACAG,QAAE,CAACC,sBAAH,CAA0B;AACzBC,gBAAQ,EAAE,KAAKzF,MADU;AAEzBgF,eAAO,EAAE,iBAAApD,GAAG,EAAI;AACf;AACA;AACA;AACA;AACA;AACA;AACAlB,aAAG,CAACgF,SAAJ,CAAc;AACbC,iBAAK,EAAE,MADM,EAAd;;AAGA,SAZwB;AAazBT,YAAI,EAAE,cAAApD,GAAG,EAAI;AACZ;AACA;AACA;AACA;AACA;AACA;AACA;AACApB,aAAG,CAACgF,SAAJ,CAAc;AACbC,iBAAK,EAAE,MADM;AAEbC,gBAAI,EAAE,MAFO,EAAd;;AAIA,SAzBwB,EAA1B;AA0BG,UA1BH;AA2BA,KA9OO;AA+OR;AACAC,aAhPQ,qBAgPErD,GAhPF,EAgPOqB,CAhPP,EAgPUL,CAhPV,EAgPasC,CAhPb,EAgPgBC,CAhPhB,EAgPmBC,CAhPnB,EAgPkC,KAAZC,CAAY,uEAAR,MAAQ;;AAEzC,UAAIH,CAAC,GAAG,IAAIE,CAAZ,EAAe;AACdA,SAAC,GAAGF,CAAC,GAAG,CAAR;AACA;AACD,UAAIC,CAAC,GAAG,IAAIC,CAAZ,EAAe;AACdA,SAAC,GAAGD,CAAC,GAAG,CAAR;AACA;;AAEDvD,SAAG,CAAC0D,SAAJ;AACA1D,SAAG,CAAC2D,SAAJ,GAAgBF,CAAhB;;AAEAzD,SAAG,CAACiC,GAAJ,CAAQZ,CAAC,GAAGmC,CAAZ,EAAexC,CAAC,GAAGwC,CAAnB,EAAsBA,CAAtB,EAAyB1D,IAAI,CAAC8D,EAA9B,EAAkC9D,IAAI,CAAC8D,EAAL,GAAU,GAA5C;AACA5D,SAAG,CAAC6D,MAAJ,CAAWxC,CAAC,GAAGmC,CAAf,EAAkBxC,CAAlB;AACAhB,SAAG,CAAC8D,MAAJ,CAAWzC,CAAC,GAAGiC,CAAJ,GAAQE,CAAnB,EAAsBxC,CAAtB;AACAhB,SAAG,CAAC8D,MAAJ,CAAWzC,CAAC,GAAGiC,CAAf,EAAkBtC,CAAC,GAAGwC,CAAtB;;AAEAxD,SAAG,CAACiC,GAAJ,CAAQZ,CAAC,GAAGiC,CAAJ,GAAQE,CAAhB,EAAmBxC,CAAC,GAAGwC,CAAvB,EAA0BA,CAA1B,EAA6B1D,IAAI,CAAC8D,EAAL,GAAU,GAAvC,EAA4C9D,IAAI,CAAC8D,EAAL,GAAU,CAAtD;AACA5D,SAAG,CAAC8D,MAAJ,CAAWzC,CAAC,GAAGiC,CAAf,EAAkBtC,CAAC,GAAGuC,CAAJ,GAAQC,CAA1B;AACAxD,SAAG,CAAC8D,MAAJ,CAAWzC,CAAC,GAAGiC,CAAJ,GAAQE,CAAnB,EAAsBxC,CAAC,GAAGuC,CAA1B;;AAEAvD,SAAG,CAACiC,GAAJ,CAAQZ,CAAC,GAAGiC,CAAJ,GAAQE,CAAhB,EAAmBxC,CAAC,GAAGuC,CAAJ,GAAQC,CAA3B,EAA8BA,CAA9B,EAAiC,CAAjC,EAAoC1D,IAAI,CAAC8D,EAAL,GAAU,GAA9C;AACA5D,SAAG,CAAC8D,MAAJ,CAAWzC,CAAC,GAAGmC,CAAf,EAAkBxC,CAAC,GAAGuC,CAAtB;AACAvD,SAAG,CAAC8D,MAAJ,CAAWzC,CAAX,EAAcL,CAAC,GAAGuC,CAAJ,GAAQC,CAAtB;;AAEAxD,SAAG,CAACiC,GAAJ,CAAQZ,CAAC,GAAGmC,CAAZ,EAAexC,CAAC,GAAGuC,CAAJ,GAAQC,CAAvB,EAA0BA,CAA1B,EAA6B1D,IAAI,CAAC8D,EAAL,GAAU,GAAvC,EAA4C9D,IAAI,CAAC8D,EAAjD;AACA5D,SAAG,CAAC8D,MAAJ,CAAWzC,CAAX,EAAcL,CAAC,GAAGwC,CAAlB;AACAxD,SAAG,CAAC8D,MAAJ,CAAWzC,CAAC,GAAGmC,CAAf,EAAkBxC,CAAlB;;AAEAhB,SAAG,CAAC+D,IAAJ;AACA/D,SAAG,CAACgE,SAAJ;;;AAGA,KAjRO,EAtBK,E;;;;;;;;;;;;;ACdf;AAAA;AAAA;AAAA;AAAg9B,CAAgB,k7BAAG,EAAC,C;;;;;;;;;;;ACAp+B,uC","file":"components/drawToCanvas/DrawToCanvas.js","sourcesContent":["import { render, staticRenderFns } from \"./DrawToCanvas.vue?vue&type=template&id=4ca5e400&scoped=true&\"\nimport script from \"./DrawToCanvas.vue?vue&type=script&lang=js&\"\nexport * from \"./DrawToCanvas.vue?vue&type=script&lang=js&\"\nimport style0 from \"./DrawToCanvas.vue?vue&type=style&index=0&id=4ca5e400&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4ca5e400\",\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"C:\\\\Users\\\\Administrator\\\\Desktop\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!module.hot.data) {\n      api.createRecord('4ca5e400', component.options)\n    } else {\n      api.reload('4ca5e400', component.options)\n    }\n    module.hot.accept(\"./DrawToCanvas.vue?vue&type=template&id=4ca5e400&scoped=true&\", function () {\n      api.rerender('4ca5e400', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"uiapp/salary-game/components/drawToCanvas/DrawToCanvas.vue\"\nexport default component.exports","export * from \"-!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-hbuilderx/packages/webpack-uni-nvue-loader/lib/templateLoader.js??vue-loader-options!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./DrawToCanvas.vue?vue&type=template&id=4ca5e400&scoped=true&\"","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./DrawToCanvas.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./DrawToCanvas.vue?vue&type=script&lang=js&\"","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nexport default {\n\tname: \"DrawToCanvas\",\n\tdata() {\n\t\treturn {\n\t\t\tposter: '',\n\t\t\tisCreate: false,\n\t\t\tisShow: false,\n\t\t\tbgWidth: 670,\n\t\t\tbgHeight: 1084,\n\t\t}\n\t},\n\tcomponents: {\n\n\t},\n\tonReady() {\n\t\tthis.createPoster();\n\t},\n\tcomputed: {\n\t\tratepx() {\n\t\t\treturn 750.0 / uni.getSystemInfoSync().windowWidth;\n\t\t}\n\t},\n\tmethods: {\n\t\t/// 获取canvas转化后的rpx\n\t\trate: function(rpx) {\n\t\t\treturn rpx / this.ratepx\n\t\t},\n\n\t\t/// 创建海报\n\t\tcreatePoster: function() {\n\t\t\t// auth.writePhotosAlbum(() => {\n\t\t\t//app.showLoading('正在生成...')\n\t\t\t/// 绘制的内容\n\t\t\tconst writing = {\n\t\t\t\t//测试用cdn防跨域\n\t\t\t\tbigImage: '../../static/img/res-bg.png',\n\t\t\t\tcontentBg: '../../static/img/res-line.png',\n\t\t\t\tavatar: '../../static/img/res-bg.png',\n\t\t\t\tcode: '../../static/img/res-bg.png',\n\t\t\t\tt1: '你最匹配的年薪是',\n\t\t\t\tt2: '已超过了98%的口腔从业者',\n\t\t\t\tt3: '长按测一测您的匹配薪资',\n\t\t\t\tcontent: '穿过风和雨，坐着热气球在浪漫的土耳其高空享受着夕阳晚霞，美好的时光在不知不觉中流逝。2020年薪百万的你环游世界，享受人生。',\n\n\t\t\t\tappName: \"程序名2\"\n\t\t\t};\n\t\t\t/// 绘制\n\t\t\tthis.draw('poster', this.bgWidth, this.bgHeight, writing).then(res => {\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t// app.hideLoading();\n\t\t\t\t\tthis.isCreate = true\n\t\t\t\t\tthis.isShow = true\n\t\t\t\t}, 300)\n\t\t\t}, err => {\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t// app.hideLoading();\n\t\t\t\t\t// app.showToast('生成海报失败');\n\t\t\t\t\tconsole.log('生成海报失败')\n\t\t\t\t}, 300)\n\t\t\t})\n\t\t\t// });\n\t\t},\n\n\t\t/// 隐藏\n\t\tcatchtap: function(callback) {\n\t\t\tthis.isShow = false\n\t\t\tsetTimeout(() => {\n\t\t\t\tthis.isCreate = false\n\t\t\t\tif (callback && typeof callback == \"function\") {\n\t\t\t\t\tcallback();\n\t\t\t\t}\n\t\t\t}, 400)\n\t\t},\n\n\t\t/// 绘制文本\n\t\tdrawText: function(options) {\n\t\t\t/// 获取总行数\n\t\t\tvar allRow = Math.ceil(options.ctx.measureText(options.str).width / options.maxWidth);\n\t\t\t/// 限制行数\n\t\t\tvar count = allRow >= options.maxLine ? options.maxLine : allRow,\n\t\t\t\t/// 当前字符串的截断点\n\t\t\t\tendPos = 0;\n\t\t\t/// 设置文字颜色\n\t\t\toptions.ctx.setFillStyle(options.style ? options.style : '#fff');\n\t\t\t/// 设置字体大小\n\t\t\toptions.ctx.setFontSize(options.fontSize ? options.fontSize : this.rate(24));\n\t\t\t/// 循环截断\n\t\t\tfor (var j = 0; j < count; j++) {\n\t\t\t\t/// 当前剩余的字符串\n\t\t\t\tvar nowStr = options.str.slice(endPos),\n\t\t\t\t\t/// 每一行当前宽度\n\t\t\t\t\trowWid = 0,\n\t\t\t\t\t/// 每一行顶部距离\n\t\t\t\t\ty = options.y + (count == 1 ? 0 : j * options.height);\n\t\t\t\t/// 如果当前的字符串宽度大于最大宽度，然后开始截取\n\t\t\t\tif (options.ctx.measureText(nowStr).width > options.maxWidth) {\n\t\t\t\t\tfor (var m = 0; m < nowStr.length; m++) {\n\t\t\t\t\t\t/// 计算当前字符串总宽度\n\t\t\t\t\t\trowWid += options.ctx.measureText(nowStr[m]).width;\n\t\t\t\t\t\tif (rowWid > options.maxWidth) {\n\t\t\t\t\t\t\t/// 如果是最后一行\n\t\t\t\t\t\t\tif (j === options.maxLine - 1) {\n\t\t\t\t\t\t\t\toptions.ctx.fillText(nowStr.slice(0, m - 1) + '...', options.x, y);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\toptions.ctx.fillText(nowStr.slice(0, m), options.x, y);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t/// 保留下次截断点\n\t\t\t\t\t\t\tendPos += m;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} else { /// 如果当前的字符串宽度小于最大宽度就直接输出\n\t\t\t\t\toptions.ctx.fillText(nowStr.slice(0), options.x, y);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\t/// 绘制海报 1、canvas对象 2、canvas宽 3、canvas高 4、绘制的内容\n\t\tdraw: function(canvas, cavW, cavH, writing) {\n\n\t\t\treturn new Promise((resolve, reject) => {\n\n\t\t\t\tif (!writing || !canvas) {\n\t\t\t\t\treject();\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\t/// 创建context\n\t\t\t\tvar ctx = uni.createCanvasContext(canvas, this);\n\t\t\t\tctx.clearRect(0, 0, this.rate(cavW), this.rate(cavH));\n\n\t\t\t\t/// 绘制底色\n\t\t\t\tctx.setFillStyle('white');\n\t\t\t\tctx.fillRect(0, 0, this.rate(cavW), this.rate(cavH));\n\t\t\t\t/// 绘制背景图\n\t\t\t\tctx.drawImage(writing.bigImage, 0, 0, this.rate(cavW), this.rate(1084));\n\n\t\t\t\t//内容背景\n\t\t\t\tctx.drawImage(writing.contentBg, this.rate(40), this.rate(180), this.rate(590), this.rate(321));\n\n\t\t\t\t\n\n\t\t\t\t/// 直径\n\t\t\t\tconst diameter = this.rate(54);\n\t\t\t\t/// 圆参数 \n\t\t\t\tconst arc = {\n\t\t\t\t\tradii: diameter / 2,\n\t\t\t\t\tx: this.rate(40),\n\t\t\t\t\ty: this.rate(800)\n\t\t\t\t};\n\n\t\t\t\t/// 绘制文案内容   \n\t\t\t\tthis.drawText({\n\t\t\t\t\tctx: ctx,\n\t\t\t\t\tstr: writing.content,\n\t\t\t\t\tmaxLine: 3,\n\t\t\t\t\tmaxWidth: this.rate(500),\n\t\t\t\t\tx: this.rate(95),\n\t\t\t\t\ty: this.rate(558),\n\t\t\t\t\theight: this.rate(50),\n\t\t\t\t\tfontSize: this.rate(24)\n\t\t\t\t})\n\n\t\t\t\tctx.save();\n\n\t\t\t\tctx.setFillStyle('#fff');\n\t\t\t\tctx.setFontSize(this.rate(28));\n\t\t\t\tctx.fillText(writing.t3, this.rate(182), this.rate(895))\n\n\t\t\t\tctx.save();\n\n\n\t\t\t\tctx.setFillStyle('#0071BC');\n\t\t\t\tctx.setFontSize(this.rate(48));\n\t\t\t\tctx.font = '700'\n\t\t\t\tctx.fillText(writing.t1, this.rate(145), this.rate(259))\n\t\t\t\t// this.boldText(ctx, {text:writing.t1,x:this.rate(145),y:this.rate(259)})\n\t\t\t\tctx.save();\n\t\t\t\t\n\t\t\t\t// /// 绘制头像\n\t\t\t\t// ctx.beginPath();\n\t\t\t\t// ctx.arc(arc.x + arc.radii, arc.y + arc.radii, arc.radii, 0, Math.PI * 2, false)\n\t\t\t\t// ctx.clip();\n\t\t\t\t// ctx.drawImage(writing.bigImage, arc.x, arc.y, diameter, diameter);\n\t\t\t\t// ctx.restore();\n\n\n\n\t\t\t\t/// 绘制店名   \n\t\t\t\t// this.drawText({\n\t\t\t\t// \tctx: ctx,\n\t\t\t\t// \tstr: writing.name,\n\t\t\t\t// \tmaxLine: 1,\n\t\t\t\t// \tmaxWidth: this.rate(300),\n\t\t\t\t// \tx: this.rate(112), //112\n\t\t\t\t// \ty: this.rate(836), //836\n\t\t\t\t// \theight: this.rate(36)\n\t\t\t\t// })\n\n\t\t\t\t/// 绘制小程序码\n\t\t\t\tctx.drawImage(writing.bigImage, this.rate(458), this.rate(670), this.rate(122), this.rate(122));\n\n\t\t\t\t/// 绘制小程序名称 \n\t\t\t\tctx.fillText(writing.appName, this.rate(488), this.rate(836))\n\t\t\t\t\n\t\t\t\t/// 绘制  \n\t\t\t\tctx.draw(false, (res) => {\n\t\t\t\t\tuni.canvasToTempFilePath({\n\t\t\t\t\t\tcanvasId: 'poster',\n\t\t\t\t\t\tfileType: 'png',\n\t\t\t\t\t\tsuccess: res => {\n\t\t\t\t\t\t\t// this.setData({\n\t\t\t\t\t\t\t// \tposter: res.tempFilePath\n\t\t\t\t\t\t\t// })\n\t\t\t\t\t\t\tthis.poster = res.tempFilePath\n\t\t\t\t\t\t\tresolve();\n\t\t\t\t\t\t},\n\t\t\t\t\t\tfail: err => {\n\t\t\t\t\t\t\tconsole.log(err)\n\t\t\t\t\t\t\treject();\n\t\t\t\t\t\t}\n\t\t\t\t\t}, this)\n\t\t\t\t});\n\n\t\t\t})\n\t\t},\n\t\tboldText(ctx, obj) {\n\t\t\tctx.fillText(obj.text, obj.x, obj.y - 0.5);\n\t\t\tctx.fillText(obj.text, obj.x - 0.5, obj.y);\n\t\t},\n\t\t/// 保存图片\n\t\tbtnCreate: function(obj) {\n\t\t\t// app.showLoading('正在保存...')\n\t\t\twx.saveImageToPhotosAlbum({\n\t\t\t\tfilePath: this.poster,\n\t\t\t\tsuccess: res => {\n\t\t\t\t\t// app.hideLoading();\n\t\t\t\t\t// this.catchtap(() => {\n\t\t\t\t\t// \twx.showToast({\n\t\t\t\t\t// \t\ttitle: '保存成功'\n\t\t\t\t\t// \t})\n\t\t\t\t\t// });\n\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\ttitle: '保存成功'\n\t\t\t\t\t})\n\t\t\t\t},\n\t\t\t\tfail: err => {\n\t\t\t\t\t// app.hideLoading();\n\t\t\t\t\t// this.catchtap(() => {\n\t\t\t\t\t// \twx.showToast({\n\t\t\t\t\t// \t\ttitle: '保存失败',\n\t\t\t\t\t// \t\ticon: 'none'\n\t\t\t\t\t// \t})\n\t\t\t\t\t// });\n\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\ttitle: '保存失败',\n\t\t\t\t\t\ticon: 'none'\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t}, this);\n\t\t},\n\t\t//绘制圆角矩形\n\t\troundRect(ctx, x, y, w, h, r, c = '#fff') {\n\n\t\t\tif (w < 2 * r) {\n\t\t\t\tr = w / 2;\n\t\t\t}\n\t\t\tif (h < 2 * r) {\n\t\t\t\tr = h / 2;\n\t\t\t}\n\n\t\t\tctx.beginPath();\n\t\t\tctx.fillStyle = c;\n\n\t\t\tctx.arc(x + r, y + r, r, Math.PI, Math.PI * 1.5);\n\t\t\tctx.moveTo(x + r, y);\n\t\t\tctx.lineTo(x + w - r, y);\n\t\t\tctx.lineTo(x + w, y + r);\n\n\t\t\tctx.arc(x + w - r, y + r, r, Math.PI * 1.5, Math.PI * 2);\n\t\t\tctx.lineTo(x + w, y + h - r);\n\t\t\tctx.lineTo(x + w - r, y + h);\n\n\t\t\tctx.arc(x + w - r, y + h - r, r, 0, Math.PI * 0.5);\n\t\t\tctx.lineTo(x + r, y + h);\n\t\t\tctx.lineTo(x, y + h - r);\n\n\t\t\tctx.arc(x + r, y + h - r, r, Math.PI * 0.5, Math.PI);\n\t\t\tctx.lineTo(x, y + r);\n\t\t\tctx.lineTo(x + r, y);\n\n\t\t\tctx.fill();\n\t\t\tctx.closePath();\n\n\n\t\t},\n\t}\n}\n","import mod from \"-!../../../../HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-1!../../../../HBuilderX/plugins/uniapp-cli/node_modules/css-loader/index.js??ref--6-oneOf-1-2!../../../../HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./DrawToCanvas.vue?vue&type=style&index=0&id=4ca5e400&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../../HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-1!../../../../HBuilderX/plugins/uniapp-cli/node_modules/css-loader/index.js??ref--6-oneOf-1-2!../../../../HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./DrawToCanvas.vue?vue&type=style&index=0&id=4ca5e400&scoped=true&lang=css&\"","// extracted by mini-css-extract-plugin"],"sourceRoot":""}